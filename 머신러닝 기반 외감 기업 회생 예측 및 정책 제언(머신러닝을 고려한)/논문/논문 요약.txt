딥러닝 기반 부실 기업 예측 모형에 관한 연구
1. 서론
- 최근 경제 위기로 부실 예측을 위한 시도가 많다. 1960이래로
ex: 기업 부도 가능성 사전 파악(김진백,이준섭2000 or 김성환,박천식,전성민 2011)
- 대표적 이론
	-> Altman의 5가지 재무 변수를 활용한 다중 판별 분석 기반 부도 예측
	-> Ohlson의 로지스틱 회귀 모형 기반 부도 예측
	-> Zmijewski의 프로빗 모형 기반 부도 예측

	-> 한계점
	(1) 부도 기업은 이미 사업활동을 하지 않는 기업이기 때문에 
	예측 가능한 기간에 사업 지속 예상 계속 기업 사이에 어떤 기업이 관리 대상이 되는지
	판단 기준이 되기 어렵다.
		-> 따라서 계속기업 중 부실 기업으로 볼 수 있는 새로운 정의를 도입해야 한다.

- 선행연구의 한계점 보완
	-> 한계 기업 여부 : 종속변수로 활용하여 기존 연구의
	부도기업을 종속변수로 활용한 한계를 보완한다.
	-> 정의
	* 한국은행의 정의를 활용하여 '3년 연속 이자보상배율이 1 미만인 기업' 활용

- 머신러닝을 이용
	-> 머신러닝 앙상블 모형으로 한계 기업 예측 이후 딥러닝 분석 결과와 비교하여 딥러닝 기법의
	적용 필요성을 제시하고자 한다.


2-1. 연구 설계
- 수집 데이터 및 전처리
	1) 대상: 코스피, 코스닥, 코넥스 상장 기업 및 외감 대상 기업 33916개의 기업 재무정보
	2) 기간: 2017~2019 3개년 공시 정보, 12월 결산 기업만 분석 활용
		-> 이유
			(1) 금융 기업의 재무제표 특수성 고려
			(2) 결산 월에 따른 데이터 왜곡 방지
	3) 설립 기간: 2016년 이후 설립 및 분석 기간 내에 '적정' 이외(ex: 부실 등)의 감사 기업은
		    분석 대상 제외
	4) 보고서: 반기, 분기 보고서는 회계감사를 거치지 않아 연차별 재무제표 정보만 분석 활용

	-> 최종 선정 데이터: 16,813개 기업

- 결측치 처리
	1) 제거 방식은 생존 데이터의 편향 문제가 발생하기 때문에 중앙값(median) 대체
	(단, 한계기업 판단 척도의 영업이익이자보상비율에서 제거 방식 활용)

- 이상치 처리
	1) 윈저라이징-> 이상치를 누적 확률 0.01, 0.99 값으로 변화

- 분류 기준
	1) 3개년 연속 영업이익 이자보상비율 1미만 : 한계기업
	2) 그 외: 정상기업
	-> 최종: 정상기업(13,818), 한계기업(2,995)

2-2. 변수 선정 및 평가 척도
	1) 재무 비율을 성장성 지표, 수익성 지표, 활동성 지표, 안정성 지표로 분류하여 
	학습에 사용할 최종 재무 비율을 결정한다.

	- 재무 비율 별 표본 t 검정을 통해 p 값이 0.05보다 큰 재무 비율 제거
		-> 정상기업과 한계기업 간의 유의한 차이가 없는 경우를 제거
	- 연도별 재무비율을 기반으로 로지스틱 회귀 분석을 실행하여 후진 선택법을
	종속변수인 한계기업 여부에 설명력이 우수한 재무변수군 추출(기준을 이야기 안함)
	
	-> 최종 선정 재무비율
	2017년 11개, 2018년 12개, 2019년 11개 재무비율이 2019년 한계기업 여부에 설명력을
	갖는다고 확인되었다.
2017
총자산증가율, 순이익증가율, 영업이익 증가율, 매출총이익률, 자기자본순이익률, 총자본회전율
2018

2019

	2) 평가 척도
	- 정확도, 정밀도, 재현율, f1-score 활용 

3-1. 예측 모형
	1) 머신러닝 앙상블 모형
	- 본 연구에서 배깅 방식을 사용
	(Decision Tree, SVM, KNN을 앙상블 모형으로 결합 시도)
	- Decision Tree를 배깅 결합할 경우 Random Forest가 된다
	-> 최종 앙상블 모형
		- 랜덤포레스트,SVM 앙상블, KNN 앙상블 활용

	2) 딥러닝 모형
	- RNN,CNN 활용
		(1) 순환신경망 모형(RNN)
		- LSTM, GRU 활용

		(2) 합성곱신경망(CNN)
		- 입력층과 출력층 사이에 1개 이상의 합성곱층과 풀링층을 갖는 특징
		- 데이터의 합성곱 이후 필터로 특징 추출, 풀링층으로 크기 조절
		- 이미지 외의 분류 문제에 성능이 좋다고 나타나 활용

4. 분석 결과
	1) 파라미터 설정
	- 학습 테스트 비율 =  7:3
	- 모든 데이터에 대해 정규화 진행
	- 모형별 하이퍼 파라미터 설정
		(1) 랜덤 포레스트
		- n_estimator: 50
		- max_depth: 5
		- 노드 최소 데이터: 10
		
		(2) SVM 앙상블 모형
		- n_estimator: 50
		- C(벌칙 모수): 2
		- 커널 함수: 선형
		
		(3) KNN 앙상블 모형
		- n_estimator: 50
		- 거리 추정: 유클리디언(Euclidean Distance)
		- 근접 데이터 수(k): 30

		(4) 딥러닝
		- RNN-LSTM, RNN-GRU
			-> 은닉층: 4
			-> 셀: 128
			-> epoch: 200
			-> activation function: Relu
			-> 성능 개선 없는 경우 조기 중단 설정
		
		- CNN(합성곱 신경망)
			-> 은닉층: 4
			-> 필터 크기: 128
			-> 풀링: maxpooling
			-> dropout: 0.25
			-> 활성화 함수: Relu
			-> 손실함수: Binary Crossentropy
			-> Optimaizer: Adam

	2) 모형별 분석 결과
		(1) 재현율을 제외하고 "랜덤포레스트"에서 가장 우수한 성능
		(2) 재현율에서 딥러닝 모형(LSTM,GRU,CNN)이 앙상블 모형에 비해 우수
		(3) F-1 score 측면에서 랜덤포레스트를 제외하고 딥러닝이 앙상블 모형에 비해 우수
			-> 총론
			- 정확도, 정밀도, F1 score: 랜덤포레스트가 가장 우수
			- 재현율: 딥러닝 모형이 머신러닝 앙상블 모형보다 우수

		(4) 부실기업 판단에 있어 1종오류(정상기업을 부실기업으로 분류하는 오류), 2종 오류(부실 기업을 정상기업으로 분류하는 오류)
		- 귀무가설: 조건을 만족하는 기업은 정상기업이다.
		- 대립가설: 조건을 만족하는 기업은 부실기업이다.
		- 실제 부실기업(대립가설 참)이지만 이것을 정상기업으로 분류(귀무가설 채택)하는 오류에서 잘못된 분류로 인한 경제적 손실(EX: 대출 승인이나 회계감독으로 인한 기소)
		이 막대하기 때문에 2종 오류를 조심해야 한다.
			-> 따라서 재현율은 중요 평가 척도이다.

		(5) (4)의 관점에서는 딥러닝 모형들이 다른 머신러닝 앙상블 모형보다 예측에 탁월한 성과를 보인다.

5. 결론
	1) 연구 요약 및 시사점
		(1) 학문적 관점: 부실기업 예측의 유용성 검증
		(2) 실무적 관점: 계속 기업 사이에서 관리 대상 분류 기준 제시에 기여

	2) 한계점
		(1) 재무비율만을 이용하여 한계기업을 예측하였다.
			-> 대외 요인, 환경 요인을 무시함
		(2) 기업 회계 정보만을 이용하여 한계기업 예측
			-> 역사적 데이터이기 때문에 적시성, 미래 지향성이 부족하다.
		(3) 외감기업 및 상장 기업만으로 구성한 한계
			-> 국내 경제는 중소기업의 비중이 절대적으로 크고
			경제 상황에 따라 중소기업의 부실화 가능성이 더 크기 때문에
			편향된 연구 결과를 제시하였다.

	3) 발견한 한계점
		(1) 외감기업과 상장기업은 그 특성이 다를 수 있기 때문에 따로 고려할 필요성이 있어 보인다.
		(2) 연도별로 한계기업 판단 변수를 다르게 선정하였는데 딥러닝 모형에서 어떻게 이것을 적용했는지 제시되지 않음
		(3) 이자보상 배율 자체를 고려하지 않았다.
		(4) 코로나 등의 경제위기를 고려한다고 했는데 실제 연구는 2017~2019년을 제외하고 고려했다.
		-------------------------------------------
		(5) 데이터 전처리 과정에서 중앙값 대체와 윈저라이징을 사용했다고 하는데 해당 방식이 적절한지 실제 데이터 분포를 공개하지 않았다.
		(6) 일단 데이터 편향이 존재하기는 하니까 데이터가 많다고 하더라도 편향을 어떻게 해결했는지, 해결하지 않았다면 그 이유가 뭔지 밝히지 않고 있다.
			-> 데이터 양이 많으면 문제 없다고는 하지만 이에 대한 서술이 필요한 것 같다.
		(7) 표2에서 선정된후보 재무비율이 아니라 일반적으로 사용되는 재무 비율을 말해주고 있기에 활용된이라는 표현이 맞는 것 같다.
		(8) 연도별 최종 재무 비율 선정 과정에서 해당 값이 도메인적으로 왜 선정되었는지에 대한 해석이 없다.
		(9) 로지스틱 회귀를 통한 후진 선택법으로 변수를 선정했다는데 왜 굳이 후진 선택법을 사용했는지에 대해 설명하지 않고 있다.
			-> 다른 방식에 비해서 모델 결과가 더 우수했는지 등의 이유를 밝혀야 할 것 같다.
		(10) 모델 별 혼돈행렬에 대해서 서술해주어야 할 것 같다.
		(11) 연도별로 선택된 변수가 다른 상황에서 LSTM,GRU 모형을 돌린 것 자체가 부적절 한 것 같다.
			-> 그렇다고 해당 방식을 적용하지 않는다면 다른 연구와의 차별성이 떨어진다.
		(12) CNN 모형에 대한 설명에서 해당 방식이 다양한 분류 문제에서 탁월한 성능을 보인다고 이야기하는데 해당 논문에서 인용한
		엄하늘 등 2020 에서 스태킹 앙상블이 가장 좋게 나왔고 CNN 모형의 성능이 가장 떨어졌다.
		(13) 딥러닝 모형의 출력층에 사용된 분류 함수가 뭔지 밝히지 않고 있다. -> 로지스틱? 시그모이드? stepwise?
		(14) 컬럼이 34개 로우가 16813인 데이터 셋에 대해서 어떻게 필터가 128개가 적용될 수 있지? 개별 기업의 데이터는 34개, 종속변수를 포함해서 35가 전부인데.
		

* 추가 조사 필요 자료
1. 윈저화
2. GRU
3. 기업부도 대표 이론
4. 

--------------------------------------------------
이론적 배경 선행 연구 결과치 확인
1.윤호중
2. odom
3. 이건창
4. 이재식,한재홍
5. shin etal    -----> 박준배
---------------------
6. kim&sohn
7.le&viviani
8.오우석 김진화
9.이찬호
10. 민성환   ------> 여규동
--------------------
11. 김승혁,김종우
12. Tsai&wu
13. 김명종
14. 배재권
15. 최하나, 임동훈  ------>
--------------------
16. 민성환
17. barboza
19.yeh etal
20. 권혁건
21. 차성재, 강정석  ----> 김윤지
----------------------
22. mai et
23. alexandropoulos
24. arratia&Sepulveda
25. hosaka 

-> 우리가 연구하는 논문에서 인용한 논문 내역들이고 연구 논문에서 해당 내용을 인용하면서 두리뭉실하게 인용해서 해당 부분에 대한 정확한 값이나 구체적인 내용을 
조사해서 정리하면 될 것 같습니다.
ex: 엄김최 논문을 인용하면서 스태킹 모델이 예측 편향을 완화한다고 했는데 어떻게 완화하는지 구체적인 수치를 조사.
-------------------------------------------------
윤호중: 머신러닝(로지스틱 회귀 분석) 모델 예측 정확도 88.5%, 선형 판별 분석 모델(전통적 통계 기법) 예측 정확도: 80.3%

odom: 해당 논문에서 모델의 성능을 재현율(실제 파산 기업 중에서 예측을 잘 한 확률)을 기준으로 설명하고 있으며 
훈련/ 검증 데이터 비율을 5:5,8:2,9:1로 분리해 나온 인공신경망 모형과 다중 판별 분석 모형의 성능을 비교한 결과
다음과 같다
		5:5	8:2	9:1
인공신경망	81.48	77.78	77.78
다중판별		59.26	70.37	59.26

이건창: 
해당 논문에서 3개의 기간(79~84,79~90,79~91)에 대해 기간별로 166개의 기업을 선정하여
도산, 비도산 기업을 5:5로 기간에 따라 분류한 데이터 세트 66,96,126개 기업에 대해서 학습한 이후 
나머지 기업에 대해서 예측을 진행하고
모델 성능 평가 지표로 정확도을 사용했을 때,
다중 판별 분석, 인공신경망, 귀납적 학습의 예측 성능을 비교한 결과 데이터 세트 별로 다음과 같다.
	다중판별		인공신경망(다중판별 결과 적정 변수 사용)	귀납추론		인공신경망(귀납추론 결과 적정 변수 사용)
79~84	68		70					74		73
79~90	68.57		80					72.86		81.43
79~97	70		80					77.5		82.5
해당 결과에 따라 인공신경망 모형이 전반적으로 다른 전통적 방식에 비해 예측력이 뛰어나다고 정의한다.

이재식 한재홍
해당 논문에서 은닉층의 노드 개수에 따라 1,2로 구분하고 재무정보, 재무정보+ 비재무 정보를 이용한 
중소기업의 도산 예측을 진행했고 그 결과는 다음과 같다. 
평가 지표는 정확도로 사용했다.
	 	20000회 학습 	50000회 학습
재무정보 - 1 	64.4		63.8
재무정보 -2  	63.8		63.8
재무+비재무 -1 	75.3		75.9
재무+비재무 -2 	73.4		74.6
해당 결과에 따라 비재무적 정보를 도입할 경우 중소기업 예측 정확도가 올라가는 것을 보여주었다.

shin etal
데이터 세트를 7개로 구분하여 서포트 벡터 머신과 인공신경망 모형을 정확도를 기준으로 비교한 겨로가 다음과 같다.
전반적으로 정확도가 svm일때 높다.(word 자료 참고)