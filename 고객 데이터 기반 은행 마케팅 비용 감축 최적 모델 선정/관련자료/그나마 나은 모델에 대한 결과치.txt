기존 마케팅 대상: 21341명
성공 대상: 2723명

모델 선정 대상: 991명
성공 대상: 511명

비용: 기존 5% 수준
결과: 기존 20% 수준
-------------------------------------------
smote 적용
기존 마케팅 대상: 21341명
성공 대상: 2723명

모델 대상: 1467명
성공 대상: 680명

비용: 기존 7%
결과: 기존 25% 수준
---------------------------------------------
1. 성능 평가 지표에 대한 가중치 근거 찾기
1) 미네르바의 고객 서비스 자문 위원의 고객 통계 자료 
-고객은 긍정적인 경험을 제공하는 브랜드에 대해 평균 9명에게 말하지만, 부정적인 경험을 제공하는 브랜드에 대해서는 평균 16명에게 말합니다.
9명: 실제 가입할 수 있지만 모델의 잘못된 예측으로 놓치는 경우의 손실
16명: 가입할 생각이 없지만 마케팅을 진행해 얻게되는 고객의 부정적 경험
재현율 가중치 56%
원본: https://www.linkedin.com/pulse/50-stats-prove-value-customer-experience-blake-morgan-2c/
해석: https://growandbetter.com/2022/02/10/50stats_prove_value_of_cx/


성과전환율 ->

2. 결과 요약서, 코드 한번 확인하시고 이상 있는 
부분 말씀해 주세요
-> 딥러닝 부분에 대해서 은닉층이나 노드에 대한 부분에 대해서
어느정도 근거가 있으면 좋겠다.


3. 자료 정리한거 한번씩 확인 해주시고요.
-> url이 없어서 불편하다....

4시까지 여기 적힌 내용 진행해 주시고 그때 다시 
모일게요.
-------------------------------------
내일 진행할거.
1. 최종적으로 평가 지표 선정
2. 발표 준비- ppt, 전략, 질문 .
------------------------------------
ppt 구성 논의  [(): 시간 조절 부분]
기: 모티베이션-> 대략적 소개
		마케팅기법이 다양화 되고 그 중요성 또한 나날이 높아지고 있다. 소비자의 니즈 및 성향 파악이 즉 마케팅 경쟁력으로 연결되기 때문에 
		우리는 고객데이터를 이용하여 마케팅전략을 세우는 방향으로 프로젝트를 진행하고자하였다.

		
승: 데이터 선정 과정(출처, 간략한 구성 소개, eda 가볍게 소개, 데이터 선정 이유) -> 분류되지 않은 rough한 고객 데이터이기 때문에 정형화된 특징을 찾을 수 없었다.
	데이터 선정 이유(실제 마케팅 이전에 알 수 없는 정보, 고객 정보와 상관 없는 데이터를 제외했다.)
	(변수 사이의 상관관계는 일단 pairplot으로 시각적으로 확인하기)
	(독립변수가 종속변수에 미치는 영향력에 대해서 소개 가능)
     전처리: 소개한다면 데이터 내에 null 값은 없었으나 unknown, unkn0wn으로 표시된 값이 있어
	  해당 값을 같은 값으로 처리하여 label인코딩을 진행한 이후 전체 데이터에 대해서 원 핫 
	  인코딩을 진행했는데 해당 값을 결측치로 처리하여 제외한 경우와 일종의 데이터를 취급한 경우의
	   2종류의 데이터를 만들어 각각 분류모델을 돌렸다.
      모델: 종속변수가 버무형 데이터이기 때문에 분류모델이 적합하다고 생각했다.
	+(결과 요약서 모델 파트 참고)
     성능평가 지표 선정: 1차적으로 정밀도를 선정했는데 
	이유는 다음과 같다
	- 고객 데이터를 통해서 예측된 결과값을 기반으로 마케팅에 활용되기 때문이다.
	- 가입하지 않을 고객에게 마케팅을 진행해서 고객이 얻는 부정적 경험으로 인한 손실이 가입 할 수 있지만 놓쳐서 발생하는 손실보다 더 크다고 생각하기 때문이다.
	- 그렇다고 재현율을 무시할 경우 모델이 성공으로 예측하는 전체적인 숫자 자체가 매우 적어질 것으로 보완하기 위해 다음과 같은 방법을 적용했다.
	-> 미네르바의 blake morgan의 고객 통계를 기반으로  
	''고객은 긍정적인 경험을 제공하는 브랜드에 대해 평균 9명에게 말하지만, 부정적인 경험을 제공하는 브랜드에 대해서는 평균 16명에게 말합니다.''
	 부정적 경험 대비 긍정적 경험의 비율을 산출한 결과 56%가 나와서 이 수치를 재현율에 적용하여
	자체 모델 선정 지표를 구성했다.
	부정적 경험이라는게 너무 주관적이이기에 이에 대해 수치로 조사한 결과 해당 자료를 구할 수 있었고 해당 자료를 기반으로 나온 수치를 재현율에 적용해 선정 지표를 구성했다.
	precision의 대상이 고객의 부정적 경험(가입 생각이 없지만 마케팅을 진행하는 경우)을 포함하고 recall이 고객의 긍정적 경험을 놓치는 (가입할 생각이 있지만 모델 결과 마케팅을 진행하지 않는 경우)를
	포함하고 있기 때문에 이것을 고려하여 수치를 적용했다.

전: 실제 모델 결과치: 설명은 이 부분만 일단 생각해 놓고 -> 결과치 요약 정리 전반적으로(데이터 종류(데이터 처리), 샘플링 처리 하지 않은 애들) 결과치 설명
		   추후에 부족하다 싶으면 추가하는 것으로...
	어떤 모델이 선택되는지 말해준다.
	

결: 	그래서 선정 모델을 바탕으로 실제 데이터 분석을 모르는 사람도 원 데이터를 넣으면 마케팅 성공 가능성이 높은 고객 정보를 뽑아주는 파이썬 파일로 구현했다.
	파일 만들어서 데이터 전혀 모르는 사람이 원 데이터 그대로 넣어서 바로 예측하게. 시연 예정
	이렇게 만들었지만 한계점이 다음과 같다.

1.   결론 및 시사점
-    Recall과 precision 사이의 Trade off 관계 襁
-    비용 절감 측면에서 유의미한 결과 도출했으나, 마케팅 성공 예측 모델에는 부적합
-    데이터 불균형 문제를 해결할 방법 더 연구해야 할 필요성
 (*금번 프로젝트에서 아쉬운 결과가 나온 이유 중 하나)
 (**또한, 타 부문의 연구에 있어서도 데이터 불균형의 문제는 존재하기 때문)
-    Sampling 기법 진행했으나, 데이터 불균형 문제 해결X
-    ((일반적으로 불균형 평가지표 f1스코어 -> 왜 쓰지 않았는지))
- 실제 마케팅 데이터를 활용한 모델이였기에 나름 의미가 있었다.
- 불균형 문제 보다는 데이터 부족 문제(컬럼값)
실제 원데이터를 분류했을 경우 상당히 분류가 잘 된 모형이 나왔다.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
질문 타임
- f1 score가 왜 그 모양?: 모든 모형에서 f1score가 그렇게 나왔고 이 부분을 해결하기 위해 각종 샘플링 방법이나 데이터 전처리 방법을 다르게 하는 등의 방식을 동원했지만 
		        해결 되지 않아서 최종적으로 해당 모형을 선정했다.
- roc-auc score가 왜 그 모양?: 그렇기 때문에 새로운 지표를 만들어서 최적 모델을 선정하고자 했다.
- precision 지표의 근본적 문제가 성공 수를 적게 선정하는 것인데 그러면 최적 모형의 실제 활용에 있어서 제한적이지 않는가?
			-> 그 부분은 우리도 아쉽게 생각하고 있다. 그렇기에 해당 부분이 우리 프로젝트의 한계점이라 생각한다.
- dnn : 은닉층을 1,3,5,7,9 노드 개수를 4,8,16,32,64개로 조정하여 최적의 모델을 찾았다. -> 노드32, 은닉층 5개가 최적으로 선정

- 결과가 그렇게 나오면 결국 데이터 부족 문제가 아니라 해당 데이터 자체가 분류에 적합하지 않은 것 아니냐? 
	=> 어떤 근거로 그렇게 말하는 것인가?: 결과치 보고 그렇게 말한다.
	=> 컬럼이 충분히 주어졌을 경우 모델을 돌려본 이후에 대답할 수 있을것 같다. 다만 실제 사회 경제적 속성을 추가했을 때, 성능이 개선되었고 
원 데이터 전체에 대해서 분류 돌릴 때, 성능이 좋은 모형이 나왔다는 것은 말씀드릴 수 있다.



- 고객 경험의 비율을 정밀도, 재현율에 그렇게 적용한 이유???
- 정밀도: 재현율 = 부정적 경험: 긍정적 경험 = 16:9 = 1:0.56
-	 예상	   	 
-	 false  true
-실제 false  a      b	
-       true  c       d

재현율(recall): d/(c+d) 실제 성공 중에서 예측이 성공인 비율
정밀도(precision): d/(b+d) 예측이 성공 중에서 실제가 성공인 비율
c: 실질적으로 가입할 생각이 있지만 모델이 놓친 인원 -> 긍정적 경험을 하지 못함
b: 가입할 생각이 없지만 모델이 가입한다고 한 인원 -> 부정적 경험을 함

실질적으로 가입할 생각이 있는 고객을 찾아서 마케팅을 진행한다는 사실 자체를 고객의 긍정적 경험으로
가입할 생각이 없는 고객에 대해서 마케팅을 진행한다는 사실 자체를 고객의 부정적 경험으로 생각했다. 
여기서 
정밀도는 예측 성공 중에서 실제 성공인 비율로 실제는 가입할 생각이 없지만 모델이 가입할 것으로 예측한 인원
을 포함한다. 즉 해당 수치가 높아질수록 고객의 부정적 경험이 줄어든다.  
재현율은 실제 성공 중에서 예측이 성공으로 하는 비율로 실제는 가입할 생각이 있지만 모델이 예측을 실패한 인원을
포함한다. 즉 해당 수치가 높아질수록 고객이 긍정적 경험을 놓치는 경우가 줄어든다.
그래서 위에서 설명한 부정적 경험 대 긍정적 경험의 비율을 적용했다.


-라벨 인코딩, 원핫 인코딩을 한 이유는?
라벨 인코딩: 데이터를 수치화하기 위한 목적으로 진행했다.
원핫 인코딩: 라벨 인코딩한 데이터를 분류모형을 돌릴 경우 해당 값의 차이에 따라 일종의 관계성이 있다고 판단 할 수 
있기 때문에 분류 모델에는 원핫 인코딩을 진행하였습니다.